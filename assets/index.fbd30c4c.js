import{f as U,O as J,P as K,A as Z,Q as ee,I as te}from"./element-plus.49c70961.js";import{_ as ae}from"./SearchFilter.vuevuetypescriptsetuptruelang.bfe45f2f.js";import{u as M,_ as oe}from"./useSimpleList.7f178250.js";import{u as O}from"./vue-i18n.9b911f69.js";import{f as L}from"./common.fec1f1e7.js";import{e as u,l as W,r as k,R as z,S as n,u as e,o as v,a as b,Y as o,W as _,X as P,c as ne,T as se,F as le,ag as re,V as q}from"./@vue.8279fe1a.js";import{u as me,c as A}from"./index.8eaf2094.js";import"./lodash-es.2e433212.js";import"./@vueuse.98a003aa.js";import"./@element-plus.d72d04b0.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.5bdc91a4.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.6dc68714.js";import"./is.84ee87a3.js";import"./@intlify.372ce312.js";import"./vue-echarts.c2da6e75.js";import"./resize-detector.4e96b72b.js";import"./echarts.d349f57c.js";import"./tslib.60310f1a.js";import"./zrender.6e8dd875.js";import"./pinia.209763a2.js";import"./vue-demi.65474690.js";import"./xe-utils.e9a24773.js";/* empty css                     */import"./vxe-table.6fca8c32.js";import"./axios.d349c3b3.js";import"./form-data.d1f94bc2.js";import"./js-cookie.31874410.js";import"./@wangeditor.e8dcf3fc.js";import"./yup.bab01cf6.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.1c56cec1.js";import"./property-expr.48609aa3.js";import"./toposort.443bad71.js";import"./vue-router.ad4919d6.js";import"./nprogress.554036ec.js";const j={list:"/v1/sysTenantPackages:search",add:"/v1/sysTenantPackages",batchDelete:"/v1/sysTenantPackages:delete",delete:"/v1/sysTenantPackages",edit:"/v1/sysTenantPackages"},ce=()=>{const{t}=O(),m=u(()=>[{label:t("page.common.system.tenant.package.column.name"),name:"name",tagName:"el-input",props:{placeholder:t("page.common.system.tenant.package.column.name_placeholder"),maxLength:"24"}},{label:t("page.common.system.tenant.package.column.status"),name:"status",type:"select",props:{placeholder:t("page.common.system.tenant.package.column.status_placeholder")},children:[{tagName:"el-option",props:{label:"\u5168\u90E8",value:""}},{tagName:"el-option",props:{label:"\u6B63\u5E38",value:"1"}},{tagName:"el-option",props:{label:"\u505C\u7528",value:"0"}}]}]),d=u(()=>[{type:"selection",show:!0,fixed:"left",width:"55"},{prop:"id",show:!0,label:t("page.common.system.tenant.package.column.id")},{prop:"name",show:!0,label:t("page.common.system.tenant.package.column.name")},{prop:"status",show:!0,label:t("page.common.system.tenant.package.column.status"),scoped:"status"},{prop:"remark",show:!0,label:t("page.common.system.tenant.package.column.remark")},{prop:"menuIds",show:!0,label:t("page.common.system.tenant.package.column.menuIds")},{prop:"creator",show:!0,label:t("page.common.system.tenant.package.column.creator")},{prop:"createTime",show:!0,label:t("page.common.system.tenant.package.column.createTime"),width:"180",formatter:L},{prop:"updater",show:!0,label:t("page.common.system.tenant.package.column.updater")},{prop:"updateTime",show:!0,label:t("page.common.system.tenant.package.column.updateTime"),width:"180",formatter:L},{prop:"deleted",show:!0,label:t("page.common.system.tenant.package.column.deleted")},{prop:"actions",show:!0,label:t("page.common.design.article.column.action"),fixed:"right",scoped:"actions",width:"150"}]);return{searchFilterOptions:m,tableColumns:d}},pe={class:"dialog-footer"},ie=W({__name:"edit",emits:["close"],setup(t,{expose:m,emit:d}){const{t:a}=O(),{handleEdit:T,handleAdd:E}=M(j),c=k(!1),f=k(),w=k(""),{gtMd:D}=me(),p=k({}),i=u(()=>p.value.id!==void 0),V=u(()=>D.value?"50%":"80%");function F(s){p.value=Object.assign({},s),c.value=!0}function C(){var s;(s=f.value)==null||s.clearValidate(),c.value=!1}async function N(s){!s||await s.validate(l=>{l&&(i.value?T(p.value).then(()=>{A("success",a("page.common.notice.edit_success")),d("close"),c.value=!1}):E(p.value).then(()=>{A("success",a("page.common.notice.add_success")),d("close"),c.value=!1}))})}const B=u(()=>[{name:"name",type:"input",label:a("page.common.system.tenant.package.column.name"),rules:[{required:!0,message:a("page.common.system.tenant.package.column.name_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:a("page.common.system.tenant.package.column.name_placeholder")}},{name:"status",tagName:"el-switch",label:a("page.common.system.tenant.package.column.status"),rules:[{required:!0,message:a("page.common.system.tenant.package.column.status_placeholder"),trigger:"blur"}],props:{style:"--el-switch-on-color: #13ce66; --el-switch-off-color: #ff4949"}},{name:"remark",type:"input",label:a("page.common.system.tenant.package.column.remark"),rules:[{required:!0,message:a("page.common.system.tenant.package.column.remark_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:a("page.common.system.tenant.package.column.remark_placeholder")}},{name:"menuIds",type:"input",label:a("page.common.system.tenant.package.column.menuIds"),rules:[{required:!0,message:a("page.common.system.tenant.package.column.menuIds_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:a("page.common.system.tenant.package.column.menuIds_placeholder")}}]);return m({edit:F,title:w}),(s,l)=>{const x=U,I=oe,S=J;return v(),z(S,{modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=g=>c.value=g),width:e(V),title:w.value,onClose:C},{footer:n(()=>[b("span",pe,[o(x,{onClick:C},{default:n(()=>[_(P(e(a)("page.common.btn.cancel")),1)]),_:1}),o(x,{type:"primary",onClick:l[0]||(l[0]=g=>N(f.value))},{default:n(()=>[_(P(e(a)("page.common.btn.confirm")),1)]),_:1})])]),default:n(()=>[o(I,{ref_key:"ruleFormRef",ref:f,value:p.value,"onUpdate:value":l[1]||(l[1]=g=>p.value=g),"label-width":"80px",options:e(B)},null,8,["value","options"])]),_:1},8,["modelValue","width","title"])}}}),ue={class:"relative w-full"},de={class:"p-[8px] absolute w-full"},ge={class:"mx-3 mt-5"},he={class:"float-right mt-2"},nt=W({__name:"index",setup(t){const{t:m}=O(),d={title:"",content:"",type:""},{searchFilterOptions:a,tableColumns:T}=ce(),E=k(d),c=u(()=>a.value),f=u(()=>w.value.length===0),{ids:w,loading:D,dataSource:p,ipagination:i,modalFormRef:V,loadData:F,handleSizeChange:C,handleCurrentChange:N,handleSelectionChange:B,handleOpenAddDialog:s,handleOpenEditDialog:l,handleDelete:x,handleBatchDelete:I,handleSearch:S,handleReset:g}=M(j);return(_e,h)=>{const Q=ae,y=U,R=K,$=Z,X=re("c-table"),Y=ee,G=te;return v(),ne(le,null,[b("div",ue,[b("div",de,[b("div",ge,[o(Q,{model:E.value,options:e(c),"show-reset":!0,onReset:e(g),onSearch:e(S)},null,8,["model","options","onReset","onSearch"])]),se((v(),z(X,{"table-data":e(p),"show-header":!0,columns:e(T),"header-align":"right",stripe:"",style:{width:"100%"},onSelectionChange:e(B)},{options:n(()=>[o(y,{icon:"refresh",circle:"",onClick:e(S)},null,8,["onClick"]),o(y,{type:"primary",icon:"plus",circle:"",onClick:e(s)},null,8,["onClick"]),o(R,{title:e(m)("page.common.btn.batchDelete_popover"),onConfirm:h[0]||(h[0]=r=>e(I)())},{reference:n(()=>[o(y,{disabled:e(f),type:"danger",icon:"delete",circle:""},null,8,["disabled"])]),_:1},8,["title"])]),status:n(({scope:r})=>[r.row.status==1?(v(),z($,{key:0,class:"ml-2",type:"success"},{default:n(()=>[_("\u6B63\u5E38")]),_:1})):q("",!0),r.row.status==0?(v(),z($,{key:1,class:"ml-2",type:"danger"},{default:n(()=>[_("\u505C\u7528")]),_:1})):q("",!0)]),actions:n(({scope:r})=>[o(y,{size:"small",onClick:H=>e(l)(r.row)},{default:n(()=>[_(P(e(m)("page.common.btn.edit")),1)]),_:2},1032,["onClick"]),o(R,{title:e(m)("page.common.btn.delete_popover"),onConfirm:H=>e(x)(r.row.id)},{reference:n(()=>[o(y,{size:"small",type:"danger"},{default:n(()=>[_(P(e(m)("page.common.btn.delete")),1)]),_:1})]),_:2},1032,["title","onConfirm"])]),_:1},8,["table-data","columns","onSelectionChange"])),[[G,e(D)]]),b("div",he,[o(Y,{currentPage:e(i).current,"onUpdate:currentPage":h[1]||(h[1]=r=>e(i).current=r),"page-size":e(i).pageSize,"onUpdate:page-size":h[2]||(h[2]=r=>e(i).pageSize=r),small:"","page-sizes":e(i).pageSizeOptions,background:!0,layout:"sizes, prev, pager, next",total:e(i).total,onSizeChange:e(C),onCurrentChange:e(N)},null,8,["currentPage","page-size","page-sizes","total","onSizeChange","onCurrentChange"])])])]),o(ie,{ref_key:"modalFormRef",ref:V,onClose:e(F)},null,8,["onClose"])],64)}}});export{nt as default};
