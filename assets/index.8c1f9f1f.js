import{f as R,O as X,P as Y,Q as G,I as J}from"./element-plus.49c70961.js";import{_ as K}from"./SearchFilter.vuevuetypescriptsetuptruelang.bfe45f2f.js";import{u as V,_ as Z}from"./useSimpleList.7f178250.js";import{u as E}from"./vue-i18n.9b911f69.js";import{e as i,l as $,r as b,R as H,S as t,u as a,o as D,a as C,Y as l,W as x,X as S,c as ee,T as ae,F as oe,ag as le}from"./@vue.8279fe1a.js";import{u as ce,c as P}from"./index.8eaf2094.js";import"./lodash-es.2e433212.js";import"./@vueuse.98a003aa.js";import"./@element-plus.d72d04b0.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.5bdc91a4.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.6dc68714.js";import"./is.84ee87a3.js";import"./@intlify.372ce312.js";import"./vue-echarts.c2da6e75.js";import"./resize-detector.4e96b72b.js";import"./echarts.d349f57c.js";import"./tslib.60310f1a.js";import"./zrender.6e8dd875.js";import"./pinia.209763a2.js";import"./vue-demi.65474690.js";import"./xe-utils.e9a24773.js";/* empty css                     */import"./vxe-table.6fca8c32.js";import"./axios.d349c3b3.js";import"./form-data.d1f94bc2.js";import"./js-cookie.31874410.js";import"./@wangeditor.e8dcf3fc.js";import"./yup.bab01cf6.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.1c56cec1.js";import"./property-expr.48609aa3.js";import"./toposort.443bad71.js";import"./vue-router.ad4919d6.js";import"./nprogress.554036ec.js";const U={list:"/v1/occuLeaders:search",add:"/v1/occuLeaders",batchDelete:"/v1/occuLeaders:delete",delete:"/v1/occuLeaders",edit:"/v1/occuLeaders"},re=()=>{const{t:o}=E(),n=i(()=>[{label:o("page.common.occu.leader.package.column.userId"),name:"userId",tagName:"el-input",props:{placeholder:o("page.common.occu.leader.package.column.userId_placeholder"),maxLength:"24"}},{label:o("page.common.occu.leader.package.column.legalName"),name:"legalName",tagName:"el-input",props:{placeholder:o("page.common.occu.leader.package.column.legalName_placeholder"),maxLength:"24"}},{label:o("page.common.occu.leader.package.column.idCard"),name:"idCard",tagName:"el-input",props:{placeholder:o("page.common.occu.leader.package.column.idCard_placeholder"),maxLength:"24"}},{label:o("page.common.occu.leader.package.column.phone"),name:"phone",tagName:"el-input",props:{placeholder:o("page.common.occu.leader.package.column.phone_placeholder"),maxLength:"24"}},{label:o("page.common.occu.leader.package.column.auditState"),name:"auditState",tagName:"el-input",props:{placeholder:o("page.common.occu.leader.package.column.auditState_placeholder"),maxLength:"24"}}]),s=i(()=>[{type:"selection",show:!0,fixed:"left",width:"55"},{prop:"id",show:!0,label:o("page.common.occu.leader.package.column.id")},{prop:"userId",show:!0,label:o("page.common.occu.leader.package.column.userId")},{prop:"legalName",show:!0,label:o("page.common.occu.leader.package.column.legalName")},{prop:"idCard",show:!0,label:o("page.common.occu.leader.package.column.idCard")},{prop:"phone",show:!0,label:o("page.common.occu.leader.package.column.phone")},{prop:"idCardFront",show:!0,label:o("page.common.occu.leader.package.column.idCardFront")},{prop:"idCardBack",show:!0,label:o("page.common.occu.leader.package.column.idCardBack")},{prop:"idCardHolding",show:!0,label:o("page.common.occu.leader.package.column.idCardHolding")},{prop:"auditState",show:!0,label:o("page.common.occu.leader.package.column.auditState")},{prop:"createBy",show:!0,label:o("page.common.occu.leader.package.column.createBy")},{prop:"updateBy",show:!0,label:o("page.common.occu.leader.package.column.updateBy")},{prop:"createAt",show:!0,label:o("page.common.occu.leader.package.column.createAt")},{prop:"updateAt",show:!0,label:o("page.common.occu.leader.package.column.updateAt")},{prop:"actions",show:!0,label:o("page.common.design.article.column.action"),fixed:"right",scoped:"actions",width:"150"}]);return{searchFilterOptions:n,tableColumns:s}},te={class:"dialog-footer"},ne=$({__name:"edit",emits:["close"],setup(o,{expose:n,emit:s}){const{t:e}=E(),{handleEdit:L,handleAdd:B}=V(U),p=b(!1),_=b(),f=b(""),{gtMd:N}=ce(),m=b({}),u=i(()=>m.value.id!==void 0),A=i(()=>N.value?"50%":"80%");function F(c){m.value=Object.assign({},c),p.value=!0}function v(){var c;(c=_.value)==null||c.clearValidate(),p.value=!1}async function z(c){!c||await c.validate(r=>{r&&(u.value?L(m.value).then(()=>{P("success",e("page.common.notice.edit_success")),s("close"),p.value=!1}):B(m.value).then(()=>{P("success",e("page.common.notice.add_success")),s("close"),p.value=!1}))})}const q=i(()=>[{name:"id",type:"input",label:e("page.common.occu.leader.package.column.id"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.id_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.id_placeholder")}},{name:"userId",type:"input",label:e("page.common.occu.leader.package.column.userId"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.userId_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.userId_placeholder")}},{name:"legalName",type:"input",label:e("page.common.occu.leader.package.column.legalName"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.legalName_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.legalName_placeholder")}},{name:"idCard",type:"input",label:e("page.common.occu.leader.package.column.idCard"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.idCard_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.idCard_placeholder")}},{name:"phone",type:"input",label:e("page.common.occu.leader.package.column.phone"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.phone_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.phone_placeholder")}},{name:"idCardFront",type:"input",label:e("page.common.occu.leader.package.column.idCardFront"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.idCardFront_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.idCardFront_placeholder")}},{name:"idCardBack",type:"input",label:e("page.common.occu.leader.package.column.idCardBack"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.idCardBack_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.idCardBack_placeholder")}},{name:"idCardHolding",type:"input",label:e("page.common.occu.leader.package.column.idCardHolding"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.idCardHolding_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.idCardHolding_placeholder")}},{name:"auditState",type:"input",label:e("page.common.occu.leader.package.column.auditState"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.auditState_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.auditState_placeholder")}},{name:"createBy",type:"input",label:e("page.common.occu.leader.package.column.createBy"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.createBy_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.createBy_placeholder")}},{name:"updateBy",type:"input",label:e("page.common.occu.leader.package.column.updateBy"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.updateBy_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.updateBy_placeholder")}},{name:"createAt",type:"input",label:e("page.common.occu.leader.package.column.createAt"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.createAt_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.createAt_placeholder")}},{name:"updateAt",type:"input",label:e("page.common.occu.leader.package.column.updateAt"),rules:[{required:!0,message:e("page.common.occu.leader.package.column.updateAt_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.occu.leader.package.column.updateAt_placeholder")}}]);return n({edit:F,title:f}),(c,r)=>{const y=R,I=Z,w=X;return D(),H(w,{modelValue:p.value,"onUpdate:modelValue":r[2]||(r[2]=g=>p.value=g),width:a(A),title:f.value,onClose:v},{footer:t(()=>[C("span",te,[l(y,{onClick:v},{default:t(()=>[x(S(a(e)("page.common.btn.cancel")),1)]),_:1}),l(y,{type:"primary",onClick:r[0]||(r[0]=g=>z(_.value))},{default:t(()=>[x(S(a(e)("page.common.btn.confirm")),1)]),_:1})])]),default:t(()=>[l(I,{ref_key:"ruleFormRef",ref:_,value:m.value,"onUpdate:value":r[1]||(r[1]=g=>m.value=g),"label-width":"80px",options:a(q)},null,8,["value","options"])]),_:1},8,["modelValue","width","title"])}}}),pe={class:"relative w-full"},me={class:"p-[8px] absolute w-full"},ue={class:"mx-3 mt-5"},de={class:"float-right mt-2"},Ze=$({__name:"index",setup(o){const{t:n}=E(),s={title:"",content:"",type:""},{searchFilterOptions:e,tableColumns:L}=re(),B=b(s),p=i(()=>e.value),_=i(()=>f.value.length===0),{ids:f,loading:N,dataSource:m,ipagination:u,modalFormRef:A,loadData:F,handleSizeChange:v,handleCurrentChange:z,handleSelectionChange:q,handleOpenAddDialog:c,handleOpenEditDialog:r,handleDelete:y,handleBatchDelete:I,handleSearch:w,handleReset:g}=V(U);return(ie,h)=>{const M=K,k=R,O=Y,T=le("c-table"),W=G,j=J;return D(),ee(oe,null,[C("div",pe,[C("div",me,[C("div",ue,[l(M,{model:B.value,options:a(p),"show-reset":!0,onReset:a(g),onSearch:a(w)},null,8,["model","options","onReset","onSearch"])]),ae((D(),H(T,{"table-data":a(m),"show-header":!0,columns:a(L),"header-align":"right",stripe:"",style:{width:"100%"},onSelectionChange:a(q)},{options:t(()=>[l(k,{icon:"refresh",circle:"",onClick:a(w)},null,8,["onClick"]),l(k,{type:"primary",icon:"plus",circle:"",onClick:a(c)},null,8,["onClick"]),l(O,{title:a(n)("page.common.btn.batchDelete_popover"),onConfirm:h[0]||(h[0]=d=>a(I)())},{reference:t(()=>[l(k,{disabled:a(_),type:"danger",icon:"delete",circle:""},null,8,["disabled"])]),_:1},8,["title"])]),actions:t(({scope:d})=>[l(k,{size:"small",onClick:Q=>a(r)(d.row)},{default:t(()=>[x(S(a(n)("page.common.btn.edit")),1)]),_:2},1032,["onClick"]),l(O,{title:a(n)("page.common.btn.delete_popover"),onConfirm:Q=>a(y)(d.row.id)},{reference:t(()=>[l(k,{size:"small",type:"danger"},{default:t(()=>[x(S(a(n)("page.common.btn.delete")),1)]),_:1})]),_:2},1032,["title","onConfirm"])]),_:1},8,["table-data","columns","onSelectionChange"])),[[j,a(N)]]),C("div",de,[l(W,{currentPage:a(u).current,"onUpdate:currentPage":h[1]||(h[1]=d=>a(u).current=d),"page-size":a(u).pageSize,"onUpdate:page-size":h[2]||(h[2]=d=>a(u).pageSize=d),small:"","page-sizes":a(u).pageSizeOptions,background:!0,layout:"sizes, prev, pager, next",total:a(u).total,onSizeChange:a(v),onCurrentChange:a(z)},null,8,["currentPage","page-size","page-sizes","total","onSizeChange","onCurrentChange"])])])]),l(ne,{ref_key:"modalFormRef",ref:A,onClose:a(F)},null,8,["onClose"])],64)}}});export{Ze as default};
