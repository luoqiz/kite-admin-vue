import{D as K,F as Y,G as ee,H as te,I as oe}from"./element-plus.49c70961.js";import{l as w,o as _,c as f,a as r,L as T,M as ae,R as C,S as s,a7 as k,F as I,Y as c,W as g,X as m,e as se,ag as L,u as b,an as E,r as y,d as ne,T as re,w as ce,n as ie}from"./@vue.8279fe1a.js";import{_ as F,h as le,U as P,c as ue,o as _e,f as V}from"./index.8eaf2094.js";import{_ as A}from"./Card.a48768cd.js";import{u as $}from"./vue-i18n.9b911f69.js";import{a as de}from"./axios.d349c3b3.js";import{S as me,T as pe,U as he,H as fe,V as ge,F as be}from"./@element-plus.d72d04b0.js";import{_ as ve}from"./lodash.1c56cec1.js";import{q as xe,y as G,z as j}from"./@vueuse.98a003aa.js";import"./echarts.d349f57c.js";import{Y as ye}from"./zrender.6e8dd875.js";import{u as Ce}from"./useTheme.81fb3fb5.js";import"./lodash-es.2e433212.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.5bdc91a4.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.6dc68714.js";import"./vue-echarts.c2da6e75.js";import"./resize-detector.4e96b72b.js";import"./pinia.209763a2.js";import"./vue-demi.65474690.js";import"./xe-utils.e9a24773.js";/* empty css                     */import"./vxe-table.6fca8c32.js";import"./js-cookie.31874410.js";import"./@wangeditor.e8dcf3fc.js";import"./yup.bab01cf6.js";import"./nanoclone.7d3cb5fe.js";import"./property-expr.48609aa3.js";import"./toposort.443bad71.js";import"./vue-router.ad4919d6.js";import"./nprogress.554036ec.js";import"./tslib.60310f1a.js";import"./@intlify.372ce312.js";import"./form-data.d1f94bc2.js";const we={class:"px-2 w-full"},Be={class:"border border-white border-solid grid grid-cols-3 gap-4 h-[180px] rounded-xl shadow-lg shadow-base"},Ee={class:"pl-6 col-span-2 flex flex-col justify-start items-start"},Fe={class:"pt-8 pb-2 text-gray-400 text-lg"},$e={class:"text-lg font-bold"},Te={class:"pl-2 font-bold text-gray-400"},Ae={class:"pt-10"},De={class:"pl-4 text-gray-400 text-sm"},Ie={class:"flex mt-6 pr-2 justify-center"},Re=["src"],Ne=w({__name:"Panel",props:{imgUrl:{type:String,default:""},bannerColor:{type:String,default:"bg-blue-300"}},setup(e){const o=e;return(t,a)=>(_(),f("div",we,[r("div",Be,[r("div",Ee,[r("span",Fe,[T(t.$slots,"title")]),r("div",null,[r("span",$e,[T(t.$slots,"subtitle")]),r("span",Te,[T(t.$slots,"badge")])]),r("div",Ae,[r("span",{class:ae([o.bannerColor,"p-1 rounded-md text-white text-sm"])},[T(t.$slots,"banner")],2),r("span",De,[T(t.$slots,"description")])])]),r("div",Ie,[r("img",{class:"border shadow-lg shadow-dark-200 border-base dark:border-light-50 border-light-50 border-solid w-[100px] h-[100px] rounded-md",src:o.imgUrl,alt:"avatar"},null,8,Re)])])]))}}),Le="/assets/pika.4f6b947f.webp",Me="/assets/kabi.d9fbee2b.webp",ke="/assets/keda.ed60f7db.webp",Se="/assets/jieni.1fd05f10.webp",Oe=w({__name:"TopPanel",setup(e){const o=[{id:1,name:"\u76AE\u5361\u4E18",price:"1000",unit:"RMB",category:"\u96F7\u7535\u7CFB",color:"bg-yellow-300",description:"\u5C0F\u667A\u7684\u90A3\u53EA\u6700\u725B",img:Le},{id:2,name:"\u65B9\u9171",price:"600",unit:"RMB",category:"\u8349\u7CFB",color:"bg-green-500",description:"\u53EA\u4F1A\u7761\u89C9",img:Me},{id:3,name:"\u53EF\u8FBE\u9E2D",price:"50",unit:"RMB",category:"\u7CBE\u795E\u7CFB",color:"bg-yellow-500",description:"\u6700\u8FD1\u5728\u80AF\u5FB7\u57FA\u5F88\u706B",img:ke},{id:4,name:"\u6770\u5C3C\u9F9F",price:"70",unit:"RMB",category:"\u6C34\u7CFB",color:"bg-blue-400",description:"\u4ED6\u4F1A\u54AC\u4F60\u4FE1\u4E0D\u4FE1",img:Se}];return(t,a)=>{const n=Ne,p=Y,i=K;return _(),C(i,null,{default:s(()=>[(_(),f(I,null,k(o,d=>c(p,{key:d.id,class:"mt-1",sm:24,md:12,xl:6},{default:s(()=>[c(n,{"banner-color":d.color,"img-url":d.img},{title:s(()=>[g(m(d.name),1)]),subtitle:s(()=>[g(m(d.price),1)]),badge:s(()=>[g(m(d.unit),1)]),banner:s(()=>[g(m(d.category),1)]),description:s(()=>[g(m(d.description),1)]),_:2},1032,["banner-color","img-url"])]),_:2},1024)),64))]),_:1})}}});const Ue=F(Oe,[["__scopeId","data-v-4935df62"]]),He={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pe=r("path",{fill:"currentColor",d:"m16 18l2.29-2.29l-4.88-4.88l-4 4L2 7.41L3.41 6l6 6l4-4l6.3 6.29L22 12v6h-6Z"},null,-1),Ve=[Pe];function ze(e,o){return _(),f("svg",He,Ve)}const We={name:"mdi-trending-down",render:ze},Ke={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ye=r("path",{fill:"currentColor",d:"m16 6l2.29 2.29l-4.88 4.88l-4-4L2 16.59L3.41 18l6-6l4 4l6.3-6.29L22 12V6h-6Z"},null,-1),Ge=[Ye];function je(e,o){return _(),f("svg",Ke,Ge)}const qe={name:"mdi-trending-up",render:je},Xe=()=>{const{t:e}=$(),o=se(()=>[{prop:"name",show:!0,label:e("page.common.dashboard.column.leaderboard.name")},{prop:"price",sortable:!0,show:!0,label:e("page.common.dashboard.column.leaderboard.price"),width:"85"},{prop:"category",show:!0,label:e("page.common.dashboard.column.leaderboard.tag"),width:"80",scoped:"category"},{prop:"sort",show:!0,label:e("page.common.dashboard.column.leaderboard.compared"),width:"110",scoped:"sort"}]);return{activityTableData:[{name:"\u53EF\u8FBE\u9E2D",price:50,unit:"RMB",category:"\u7CBE\u795E\u7CFB",color:"bg-yellow-500",sort:"50%",sortUnit:"up"},{name:"\u76AE\u5361\u4E18",price:1e3,unit:"RMB",category:"\u96F7\u7535\u7CFB",color:"bg-yellow-300",sort:"120%",sortUnit:"up"},{name:"\u65B9\u9171",price:600,unit:"RMB",category:"\u8349\u7CFB",color:"bg-green-500",sort:"50%",sortUnit:"down"},{name:"\u6770\u5C3C\u9F9F",price:70,unit:"RMB",category:"\u6C34\u7CFB",color:"bg-blue-400",sort:"60%",sortUnit:"up"},{name:"\u6CE2\u514B\u6BD4",price:1900,unit:"RMB",category:"\u7CBE\u795E\u7CFB",color:"bg-pink-400",sort:"150%",sortUnit:"up"}],activityColumns:o}},Ze={class:"p-1 rounded-md bg-gray-500 text-white text-sm"},Je={class:"flex"},Qe={class:"pl-2"},et=w({__name:"ActivityCard",setup(e){const{t:o}=$(),{activityColumns:t,activityTableData:a}=Xe();return(n,p)=>{const i=qe,d=We,v=L("c-table"),x=A;return _(),f("div",null,[c(x,null,{title:s(()=>[g(m(b(o)("page.common.dashboard.card.leaderboard")),1)]),content:s(()=>[c(v,{"table-data":b(a),columns:b(t),"header-align":"right",stripe:"",style:{width:"100%"}},{category:s(({scope:l})=>[r("span",Ze,m(l.row.category),1)]),sort:s(({scope:l})=>[r("div",Je,[l.row.sortUnit==="up"?(_(),C(i,{key:0,class:"text-red-500",style:{"font-size":"1.6em"}})):(_(),C(d,{key:1,class:"text-green-500",style:{"font-size":"1.6em"}})),r("span",Qe,m(l.row.sort),1)])]),_:1},8,["table-data","columns"])]),_:1})])}}});const tt=F(et,[["__scopeId","data-v-0351c003"]]),ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},at=r("path",{fill:"currentColor",d:"M17.65 6.35A7.958 7.958 0 0 0 12 4a8 8 0 0 0-8 8a8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6a6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35Z"},null,-1),st=[at];function nt(e,o){return _(),f("svg",ot,st)}const rt={name:"mdi-refresh",render:nt},ct=(e,o,t)=>{const a=`https://api.github.com/repos/${e}/${o}/commits?access_token=${t}`;return new Promise(async(n,p)=>{try{const i=await de.get(a,{headers:{Authorization:"Bearer "+t}});n(i)}catch(i){p(i)}})},it=()=>new Promise(async(e,o)=>{try{const t=await le.get("/commits");e(t)}catch(t){o(t)}});var q=(e=>(e.GITHUB_ACCESS_TOKEN="xxx",e))(q||{}),B=(e=>(e.FEAT="#0bbd87",e.FIX="#f5c518",e.DOCS="#4b5261",e.STYLE="#ec407a",e.CHORE="#d81b60",e.UNKNOWN="#666666",e))(B||{});const M=new Map([["feat",[B.FEAT,E(me)]],["fix",[B.FIX,E(pe)]],["docs",[B.DOCS,E(he)]],["style",[B.STYLE,E(fe)]],["chore",[B.STYLE,E(ge)]],["unkonw",[B.UNKNOWN,E(be)]]]);function lt(e){const o=ve.cloneDeep(e);return Object.entries(e).forEach(([t,a])=>{a=="true"||a=="false"?o[t]=a=="true":/^\d+$/.test(a)?o[t]=Number(a):a=="null"?o[t]=null:a=="undefined"&&(o[t]=void 0)}),o}const ut={class:"flex justify-center items-center h-[220px] w-8/12 text-center mx-auto"},_t={class:"text-lg font-semibold text-gray-500"},dt={class:"time-line-box h-[250px] overflow-y-auto px-6 py-5"},mt={class:"p-3 overflow-auto"},pt=["onClick"],ht={class:"hover:cursor-pointer hover:underline decoration-1"},ft=w({__name:"TimeLine",setup(e){const{t:o}=$(),t=y({}),a=y(""),n=y(!1);function p(l){return l.map(u=>({date:b(xe(u.commit.author.date,"YYYY-MM-DD")),message:u.commit.message,html_url:u.html_url}))}function i(l){try{return l.match(/(\S*):/)[1]}catch{return"unkonw"}}function d(l,u){let h=i(l.message);h=M.get(h)?h:"unkonw",t.value[u].color=M.get(h)[0],t.value[u].icon=M.get(h)[1]}function v(l){l.forEach(u=>{let h=u.date+i(u.message);t.value[h]?t.value[h].content.push({message:u.message,html_url:u.html_url}):(t.value[h]={content:[{message:u.message,html_url:u.html_url}],timestamp:u.date},d(u,h))})}async function x(){n.value=!0,t.value={},a.value="";try{let l=null;lt({VITE_API_URL:"http://wcy.luoqiz.top:8096",VITE_MOCK_ENABLE:"false",VITE_PORT:"3000",VITE_GLOB_APP_TITLE:"kite-admin\u7BA1\u7406\u7CFB\u7EDF",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}).VITE_MOCK_ENABLE?l=await ct(P.GITHUB_USER,P.GITHUB_REPO,q.GITHUB_ACCESS_TOKEN):l=await it();const u=p(l.data);v(u)}catch(l){a.value=l.message,ue("error",l.message)}finally{n.value=!1}}return ne(async()=>{x()}),(l,u)=>{const h=rt,O=A,X=ee,Z=te,J=oe;return _(),C(O,{"err-capture":!!a.value},{title:s(()=>[g(m(b(o)("page.common.dashboard.card.timeline")),1)]),actions:s(()=>[c(h,{class:"cursor-pointer text-gray-400 dark:text-white hover:rotate-180 duration-500",style:{"font-size":"1.2em"},onClick:u[0]||(u[0]=()=>x())})]),error:s(()=>[r("div",ut,[r("p",_t,m(`${b(o)("page.common.dashboard.card.timeline.woops")}${a.value}`),1)])]),content:s(()=>[re((_(),f("div",dt,[c(Z,null,{default:s(()=>[(_(!0),f(I,null,k(Object.values(t.value),(D,Q)=>(_(),C(X,{key:Q,style:{"--el-timeline-node-size-large":"18px"},size:"large",icon:D.icon,color:D.color,timestamp:D.timestamp,placement:"top"},{default:s(()=>[c(O,{empty:"","auto-height":""},{content:s(()=>[r("div",mt,[(_(!0),f(I,null,k(D.content,(U,H)=>(_(),f("p",{key:H,class:"leading-5",onClick:At=>b(_e)(U.html_url)},[g(m(H+1+"\u3001 ")+" ",1),r("span",ht,m(U.message),1)],8,pt))),128))])]),_:2},1024)]),_:2},1032,["icon","color","timestamp"]))),128))]),_:1})])),[[J,n.value]])]),_:1},8,["err-capture"])}}});const gt=F(ft,[["__scopeId","data-v-b2e0585e"]]),S={axisName:{color:"#fff",backgroundColor:"#59abc2",borderRadius:3,padding:[3,5]}},z={getOptions:()=>({axisName:{color:V("--color-base"),backgroundColor:V("--color-base"),borderRadius:0,padding:[0,0]}})},bt={color:["#56A3F1","#FF917C"],radar:[{indicator:[{name:"\u667A\u529B",max:150},{name:"\u4F53\u9B44",max:150},{name:"\u6027\u683C",max:150},{name:"\u5916\u8C8C",max:150},{name:"\u6280\u80FD",max:150},{name:"\u5BFF\u547D",max:150}],center:["50%","45%"],radius:80,axisName:S.axisName}],series:[{type:"radar",data:[{value:[121,118,130,100,99,70],name:"Data C",symbol:"rect",symbolSize:12,lineStyle:{type:"dashed"},label:{show:!0,formatter:function(e){return e.value}}},{value:[100,93,50,90,70,60],name:"Data D",areaStyle:{color:new ye(.1,.6,1,[{color:"rgba(255, 145, 124, 0.1)",offset:0},{color:"rgba(255, 145, 124, 0.9)",offset:1}])}}]}]};var R=(e=>(e[e.ECHART_MIN_WIDTH=250]="ECHART_MIN_WIDTH",e))(R||{});const vt=w({__name:"RadarChart",setup(e){const{t:o}=$(),t=y(null),{width:a}=G(t),n=y(bt),{state:p}=Ce();return j(()=>a.value,i=>{i<R.ECHART_MIN_WIDTH?n.value.radar[0].axisName=z.getOptions().axisName:n.value.radar[0].axisName=S.axisName},{debounce:200,maxWait:500}),ce(()=>p.value,()=>{a.value<R.ECHART_MIN_WIDTH?ie(()=>{n.value.radar[0].axisName=z.getOptions().axisName}):n.value.radar[0].axisName=S.axisName}),(i,d)=>{const v=L("VChart"),x=A;return _(),C(x,null,{title:s(()=>[g(m(b(o)("page.common.dashboard.card.pixie")),1)]),content:s(()=>[c(v,{ref_key:"radar",ref:t,class:"chart",autoresize:!0,option:n.value},null,8,["option"])]),_:1})}}});const xt=F(vt,[["__scopeId","data-v-364180ef"]]),W={legend:{orient:"horizontal",left:"center",top:"10%",textStyle:{color:"#8f8f8f"}},center:["50%","50%"]},N={legend:{orient:"vertical",left:"15%",top:"center",textStyle:{color:"#8f8f8f"}},center:["60%","50%"]},yt={legend:N.legend,tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",radius:[10,100],roseType:"area",center:N.center,itemStyle:{borderRadius:8},label:{show:!1},emphasis:{label:{show:!1}},data:[{value:40,name:"\u96F7\u7535\u7CFB"},{value:38,name:"\u6C34\u7CFB"},{value:32,name:"\u8349\u7CFB"},{value:30,name:"\u7CBE\u795E\u7CFB"},{value:28,name:"\u6C34\u7CFB"},{value:26,name:"\u706B\u7CFB"},{value:22,name:"\u63A7\u5236\u7CFB"},{value:18,name:"\u5CA9\u77F3\u7CFB"}]}]},Ct={class:"truncate"},wt={class:"overflow-auto"},Bt=w({__name:"PieChart",setup(e){const{t:o}=$(),t=y(null),{width:a}=G(t),n=y(yt);return j(()=>a.value,p=>{p<R.ECHART_MIN_WIDTH?(n.value.legend=W.legend,n.value.series[0].center=W.center):(n.value.legend=N.legend,n.value.series[0].center=N.center)},{debounce:200,maxWait:500}),(p,i)=>{const d=L("VChart"),v=A;return _(),C(v,null,{title:s(()=>[r("p",Ct,m(b(o)("page.common.dashboard.card.percentage")),1)]),content:s(()=>[r("div",wt,[c(d,{ref_key:"pie",ref:t,class:"chart",autoresize:!0,option:n.value},null,8,["option"])])]),_:1})}}});const Et=F(Bt,[["__scopeId","data-v-1bf5eac3"]]),Ft={class:"overflow-auto"},$t=w({__name:"LineChart",setup(e){const{t:o}=$(),t=[["2022-05-05",116],["2022-05-06",129],["2022-05-07",135],["2022-05-08",86],["2022-05-09",73],["2022-05-10",85],["2022-05-11",73],["2022-05-12",68],["2022-05-13",92],["2022-05-14",130],["2022-05-15",245],["2022-05-16",139],["2022-05-17",115],["2022-05-18",111],["2022-05-19",309],["2022-05-20",206],["2022-05-21",137],["2022-05-22",128],["2022-05-23",85],["2022-05-24",94],["2022-05-25",71],["2022-05-26",106],["2022-05-27",84],["2022-05-28",93],["2022-05-29",85],["2022-05-30",73]],a=t.map(function(i){return i[0]}),n=t.map(function(i){return i[1]}),p=y({visualMap:[{show:!1,type:"continuous",seriesIndex:0,min:0,max:400}],tooltip:{trigger:"axis",formatter:function(i){return`${i[0].marker}${i[0].value} RMB`}},xAxis:[{data:a}],yAxis:[{}],grid:[{top:"30px",left:"50px",right:"25px"}],series:[{type:"line",showSymbol:!1,data:n}]});return(i,d)=>{const v=L("VChart"),x=A;return _(),C(x,null,{title:s(()=>[g(m(b(o)("page.common.dashboard.card.coda")),1)]),content:s(()=>[r("div",Ft,[c(v,{class:"chart",autoresize:!0,option:p.value},null,8,["option"])])]),_:1})}}});const Tt=F($t,[["__scopeId","data-v-b45cc76f"]]),fo=w({__name:"HomePage",setup(e){return(o,t)=>{const a=Y,n=K;return _(),f(I,null,[c(Ue),c(n,null,{default:s(()=>[c(a,{class:"mt-1",sm:24,md:6,xl:6},{default:s(()=>[c(gt)]),_:1}),c(a,{class:"mt-1",sm:24,md:12,xl:12},{default:s(()=>[c(tt)]),_:1}),c(a,{class:"mt-1",sm:24,md:6,xl:6},{default:s(()=>[c(xt)]),_:1})]),_:1}),c(n,null,{default:s(()=>[c(a,{class:"mt-1",sm:24,md:18,xl:18},{default:s(()=>[c(Tt)]),_:1}),c(a,{class:"mt-1",sm:24,md:6,xl:6},{default:s(()=>[c(Et)]),_:1})]),_:1})],64)}}});export{fo as default};
