import{f as $,O as J,P as K,A as Z,Q as ee,I as te}from"./element-plus.49c70961.js";import{_ as oe}from"./SearchFilter.vuevuetypescriptsetuptruelang.bfe45f2f.js";import{u as Y,_ as ne}from"./useSimpleList.7f178250.js";import{u as F}from"./vue-i18n.9b911f69.js";import{f as q}from"./common.fec1f1e7.js";import{e as u,l as A,r as f,R as I,S as a,u as t,o as v,a as w,Y as n,W as _,X as N,c as ae,T as le,F as se,ag as me,V as O}from"./@vue.8279fe1a.js";import{u as re,c as R}from"./index.8eaf2094.js";import"./lodash-es.2e433212.js";import"./@vueuse.98a003aa.js";import"./@element-plus.d72d04b0.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.5bdc91a4.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.6dc68714.js";import"./is.84ee87a3.js";import"./@intlify.372ce312.js";import"./vue-echarts.c2da6e75.js";import"./resize-detector.4e96b72b.js";import"./echarts.d349f57c.js";import"./tslib.60310f1a.js";import"./zrender.6e8dd875.js";import"./pinia.209763a2.js";import"./vue-demi.65474690.js";import"./xe-utils.e9a24773.js";/* empty css                     */import"./vxe-table.6fca8c32.js";import"./axios.d349c3b3.js";import"./form-data.d1f94bc2.js";import"./js-cookie.31874410.js";import"./@wangeditor.e8dcf3fc.js";import"./yup.bab01cf6.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.1c56cec1.js";import"./property-expr.48609aa3.js";import"./toposort.443bad71.js";import"./vue-router.ad4919d6.js";import"./nprogress.554036ec.js";const H={list:"/v1/sysTenants:search",add:"/v1/sysTenants",batchDelete:"/v1/sysTenants:delete",delete:"/v1/sysTenants",edit:"/v1/sysTenants"},ce=()=>{const{t:o}=F(),r=u(()=>[{label:o("page.common.system.tenant.column.name"),name:"name",tagName:"el-input",props:{placeholder:o("page.common.system.tenant.column.name_placeholder"),maxLength:"50"}},{label:o("page.common.system.tenant.column.contactMobile"),name:"contactMobile",tagName:"el-input",props:{placeholder:o("page.common.system.tenant.column.contactMobile_placeholder"),maxLength:"50"}},{label:o("page.common.system.tenant.column.status"),name:"status",type:"select",props:{placeholder:o("page.common.system.tenant.column.status_placeholder")},children:[{tagName:"el-option",props:{label:"\u5168\u90E8",value:""}},{tagName:"el-option",props:{label:"\u6B63\u5E38",value:"1"}},{tagName:"el-option",props:{label:"\u505C\u7528",value:"0"}}]},{label:o("page.common.system.tenant.column.packageId"),name:"packageId",tagName:"el-input",props:{placeholder:o("page.common.system.tenant.column.packageId_placeholder"),maxLength:"24"}}]),d=u(()=>[{type:"selection",show:!0,fixed:"left",width:"55"},{prop:"id",show:!0,label:o("page.common.system.tenant.column.id"),width:"180"},{prop:"name",show:!0,label:o("page.common.system.tenant.column.name"),width:"180"},{prop:"contactUserId",show:!0,label:o("page.common.system.tenant.column.contactUserId")},{prop:"contactName",show:!0,label:o("page.common.system.tenant.column.contactName")},{prop:"contactMobile",show:!0,label:o("page.common.system.tenant.column.contactMobile")},{prop:"status",show:!0,label:o("page.common.system.tenant.column.status"),scoped:"status"},{prop:"domain",show:!0,label:o("page.common.system.tenant.column.domain"),width:"180"},{prop:"packageId",show:!0,label:o("page.common.system.tenant.column.packageId")},{prop:"expireTime",show:!0,label:o("page.common.system.tenant.column.expireTime"),width:"180",formatter:q},{prop:"accountCount",show:!0,label:o("page.common.system.tenant.column.accountCount")},{prop:"creator",show:!0,label:o("page.common.system.tenant.column.creator"),width:"180"},{prop:"createTime",show:!0,label:o("page.common.system.tenant.column.createTime"),width:"180",formatter:q},{prop:"updater",show:!0,label:o("page.common.system.tenant.column.updater"),width:"180"},{prop:"updateTime",show:!0,label:o("page.common.system.tenant.column.updateTime"),width:"180",formatter:q},{prop:"actions",show:!0,label:o("page.common.design.article.column.action"),fixed:"right",scoped:"actions",width:"150"}]);return{searchFilterOptions:r,tableColumns:d}},pe={class:"dialog-footer"},ie=A({__name:"edit",emits:["close"],setup(o,{expose:r,emit:d}){const{t:e}=F(),{handleEdit:S,handleAdd:z}=Y(H),c=f(!1),y=f(),C=f(""),{gtMd:M}=re(),p=f({}),i=u(()=>p.value.id!==void 0),D=u(()=>M.value?"50%":"80%");function E(l){p.value=Object.assign({},l),c.value=!0}function x(){var l;(l=y.value)==null||l.clearValidate(),c.value=!1}async function L(l){!l||await l.validate(s=>{s&&(i.value?S(p.value).then(()=>{R("success",e("page.common.notice.edit_success")),d("close"),c.value=!1}):z(p.value).then(()=>{R("success",e("page.common.notice.add_success")),d("close"),c.value=!1}))})}const U=u(()=>[{name:"name",type:"input",label:e("page.common.system.tenant.column.name"),rules:[{required:!0,message:e("page.common.system.tenant.column.name_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.name_placeholder")}},{name:"contactUserId",type:"input",label:e("page.common.system.tenant.column.contactUserId"),rules:[{required:!0,message:e("page.common.system.tenant.column.contactUserId_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.contactUserId_placeholder")}},{name:"contactName",type:"input",label:e("page.common.system.tenant.column.contactName"),rules:[{required:!0,message:e("page.common.system.tenant.column.contactName_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.contactName_placeholder")}},{name:"contactMobile",type:"input",label:e("page.common.system.tenant.column.contactMobile"),rules:[{required:!0,message:e("page.common.system.tenant.column.contactMobile_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.contactMobile_placeholder")}},{name:"status",tagName:"el-switch",label:e("page.common.system.tenant.column.status"),rules:[{required:!0,message:e("page.common.system.tenant.column.status_placeholder"),trigger:"blur"}],props:{style:"--el-switch-on-color: #13ce66; --el-switch-off-color: #ff4949"}},{name:"domain",type:"input",label:e("page.common.system.tenant.column.domain"),rules:[{required:!0,message:e("page.common.system.tenant.column.domain_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.domain_placeholder")}},{name:"packageId",type:"input",label:e("page.common.system.tenant.column.packageId"),rules:[{required:!0,message:e("page.common.system.tenant.column.packageId_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.packageId_placeholder")}},{name:"expireTime",type:"datePicker",label:e("page.common.system.tenant.column.expireTime"),rules:[{required:!0,message:e("page.common.system.tenant.column.expireTime_placeholder"),trigger:"blur"}],props:{"value-format":"YYYY-MM-DD HH:mm:ss",placeholder:e("page.common.system.tenant.column.expireTime_placeholder")}},{name:"accountCount",type:"input",label:e("page.common.system.tenant.column.accountCount"),rules:[{required:!0,message:e("page.common.system.tenant.column.accountCount_placeholder"),trigger:"blur"}],props:{maxLength:50,placeholder:e("page.common.system.tenant.column.accountCount_placeholder")}}]);return r({edit:E,title:C}),(l,s)=>{const k=$,V=ne,T=J;return v(),I(T,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=g=>c.value=g),width:t(D),title:C.value,onClose:x},{footer:a(()=>[w("span",pe,[n(k,{onClick:x},{default:a(()=>[_(N(t(e)("page.common.btn.cancel")),1)]),_:1}),n(k,{type:"primary",onClick:s[0]||(s[0]=g=>L(y.value))},{default:a(()=>[_(N(t(e)("page.common.btn.confirm")),1)]),_:1})])]),default:a(()=>[n(V,{ref_key:"ruleFormRef",ref:y,value:p.value,"onUpdate:value":s[1]||(s[1]=g=>p.value=g),"label-width":"80px",options:t(U)},null,8,["value","options"])]),_:1},8,["modelValue","width","title"])}}}),ue={class:"relative w-full"},de={class:"p-[8px] absolute w-full"},ge={class:"mx-3 mt-5"},he={class:"float-right mt-2"},at=A({__name:"index",setup(o){const{t:r}=F(),d={title:"",content:"",type:""},{searchFilterOptions:e,tableColumns:S}=ce(),z=f(d),c=u(()=>e.value),y=u(()=>C.value.length===0),{ids:C,loading:M,dataSource:p,ipagination:i,modalFormRef:D,loadData:E,handleSizeChange:x,handleCurrentChange:L,handleSelectionChange:U,handleOpenAddDialog:l,handleOpenEditDialog:s,handleDelete:k,handleBatchDelete:V,handleSearch:T,handleReset:g}=Y(H);return(_e,h)=>{const W=oe,b=$,P=K,B=Z,j=me("c-table"),Q=ee,X=te;return v(),ae(se,null,[w("div",ue,[w("div",de,[w("div",ge,[n(W,{model:z.value,options:t(c),"show-reset":!0,onReset:t(g),onSearch:t(T)},null,8,["model","options","onReset","onSearch"])]),le((v(),I(j,{"table-data":t(p),"show-header":!0,columns:t(S),"header-align":"right",stripe:"",style:{width:"100%"},onSelectionChange:t(U)},{options:a(()=>[n(b,{icon:"refresh",circle:"",onClick:t(T)},null,8,["onClick"]),n(b,{type:"primary",icon:"plus",circle:"",onClick:t(l)},null,8,["onClick"]),n(P,{title:t(r)("page.common.btn.batchDelete_popover"),onConfirm:h[0]||(h[0]=m=>t(V)())},{reference:a(()=>[n(b,{disabled:t(y),type:"danger",icon:"delete",circle:""},null,8,["disabled"])]),_:1},8,["title"])]),status:a(({scope:m})=>[m.row.status==1?(v(),I(B,{key:0,class:"ml-2",type:"success"},{default:a(()=>[_("\u6B63\u5E38")]),_:1})):O("",!0),m.row.status==0?(v(),I(B,{key:1,class:"ml-2",type:"danger"},{default:a(()=>[_("\u505C\u7528")]),_:1})):O("",!0)]),actions:a(({scope:m})=>[n(b,{size:"small",onClick:G=>t(s)(m.row)},{default:a(()=>[_(N(t(r)("page.common.btn.edit")),1)]),_:2},1032,["onClick"]),n(P,{title:t(r)("page.common.btn.delete_popover"),onConfirm:G=>t(k)(m.row.id)},{reference:a(()=>[n(b,{size:"small",type:"danger"},{default:a(()=>[_(N(t(r)("page.common.btn.delete")),1)]),_:1})]),_:2},1032,["title","onConfirm"])]),_:1},8,["table-data","columns","onSelectionChange"])),[[X,t(M)]]),w("div",he,[n(Q,{currentPage:t(i).current,"onUpdate:currentPage":h[1]||(h[1]=m=>t(i).current=m),"page-size":t(i).pageSize,"onUpdate:page-size":h[2]||(h[2]=m=>t(i).pageSize=m),small:"","page-sizes":t(i).pageSizeOptions,background:!0,layout:"sizes, prev, pager, next",total:t(i).total,onSizeChange:t(x),onCurrentChange:t(L)},null,8,["currentPage","page-size","page-sizes","total","onSizeChange","onCurrentChange"])])])]),n(ie,{ref_key:"modalFormRef",ref:D,onClose:t(E)},null,8,["onClose"])],64)}}});export{at as default};
